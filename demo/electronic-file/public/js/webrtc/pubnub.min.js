!function(){var CryptoJS=CryptoJS||function(e,n){var t={},r=t.lib={},a=function(){},i=r.Base={extend:function(e){a.prototype=this;var n=new a;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=void 0!=n?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var n=this.words,t=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var a=0;a<e;a++)n[r+a>>>2]|=(t[a>>>2]>>>24-a%4*8&255)<<24-(r+a)%4*8;else if(65535<t.length)for(a=0;a<e;a+=4)n[r+a>>>2]=t[a>>>2];else n.push.apply(n,t);return this.sigBytes+=e,this},clamp:function(){var n=this.words,t=this.sigBytes;n[t>>>2]&=4294967295<<32-t%4*8,n.length=e.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(n){for(var t=[],r=0;r<n;r+=4)t.push(4294967296*e.random()|0);return new o.init(t,n)}}),c=t.enc={},u=c.Hex={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],r=0;r<e;r++){var a=n[r>>>2]>>>24-r%4*8&255;t.push((a>>>4).toString(16)),t.push((15&a).toString(16))}return t.join("")},parse:function(e){for(var n=e.length,t=[],r=0;r<n;r+=2)t[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(t,n/2)}},s=c.Latin1={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],r=0;r<e;r++)t.push(String.fromCharCode(n[r>>>2]>>>24-r%4*8&255));return t.join("")},parse:function(e){for(var n=e.length,t=[],r=0;r<n;r++)t[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(t,n)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(n){var t=this._data,r=t.words,a=t.sigBytes,i=this.blockSize,c=a/(4*i);if(n=(c=n?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*i,a=e.min(4*n,a),n){for(var u=0;u<n;u+=i)this._doProcessBlock(r,u);u=r.splice(0,n),t.sigBytes-=a}return new o.init(u,a)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(n,t){return new e.init(t).finalize(n)}},_createHmacHelper:function(e){return function(n,t){return new b.HMAC.init(e,t).finalize(n)}}});var b=t.algo={};return t}(Math),Kc,Lc,Zc,$c;!function(e){for(var n=CryptoJS,t=(a=n.lib).WordArray,r=a.Hasher,a=n.algo,i=[],o=[],c=function(e){return 4294967296*(e-(0|e))|0},u=2,s=0;64>s;){var f;e:{f=u;for(var l=e.sqrt(f),b=2;b<=l;b++)if(!(f%b)){f=!1;break e}f=!0}f&&(8>s&&(i[s]=c(e.pow(u,.5))),o[s]=c(e.pow(u,1/3)),s++),u++}var d=[];a=a.SHA256=r.extend({_doReset:function(){this._hash=new t.init(i.slice(0))},_doProcessBlock:function(e,n){for(var t=this._hash.words,r=t[0],a=t[1],i=t[2],c=t[3],u=t[4],s=t[5],f=t[6],l=t[7],b=0;64>b;b++){if(16>b)d[b]=0|e[n+b];else{var h=d[b-15],p=d[b-2];d[b]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+d[b-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+d[b-16]}h=l+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&s^~u&f)+o[b]+d[b],p=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&a^r&i^a&i),l=f,f=s,s=u,u=c+h|0,c=i,i=a,a=r,r=h+p|0}t[0]=t[0]+r|0,t[1]=t[1]+a|0,t[2]=t[2]+i|0,t[3]=t[3]+c|0,t[4]=t[4]+u|0,t[5]=t[5]+s|0,t[6]=t[6]+f|0,t[7]=t[7]+l|0},_doFinalize:function(){var n=this._data,t=n.words,r=8*this._nDataBytes,a=8*n.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=e.floor(r/4294967296),t[15+(a+64>>>9<<4)]=r,n.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=r._createHelper(a),n.HmacSHA256=r._createHmacHelper(a)}(Math),Kc=CryptoJS,Lc=Kc.enc.Utf8,Kc.algo.HMAC=Kc.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=Lc.parse(n));var t=e.blockSize,r=4*t;n.sigBytes>r&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),i=this._iKey=n.clone(),o=a.words,c=i.words,u=0;u<t;u++)o[u]^=1549556828,c[u]^=909522486;a.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var n=this._hasher;return e=n.finalize(e),n.reset(),n.finalize(this._oKey.clone().concat(e))}}),Zc=CryptoJS,$c=Zc.lib.WordArray,Zc.enc.Base64={stringify:function(e){var n=e.words,t=e.sigBytes,r=this._map;e.clamp(),e=[];for(var a=0;a<t;a+=3)for(var i=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;4>o&&a+.75*o<t;o++)e.push(r.charAt(i>>>6*(3-o)&63));if(n=r.charAt(64))for(;e.length%4;)e.push(n);return e.join("")},parse:function(e){var n=e.length,t=this._map;(r=t.charAt(64))&&-1!=(r=e.indexOf(r))&&(n=r);for(var r=[],a=0,i=0;i<n;i++)if(i%4){var o=t.indexOf(e.charAt(i-1))<<i%4*2,c=t.indexOf(e.charAt(i))>>>6-i%4*2;r[a>>>2]|=(o|c)<<24-a%4*8,a++}return $c.create(r,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};var v=void 0,y=!0,z=null,A=!1;function C(){return function(){}}window.JSON&&window.JSON.stringify||function(){function a(){try{return this.valueOf()}catch(e){return z}}function d(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var n=q[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function b(e,n){var t,r,i,o,c,u=f,s=n[e];switch(s&&"object"==typeof s&&(s=a.call(s)),"function"==typeof m&&(s=m.call(n,e,s)),typeof s){case"string":return d(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(f+=p,c=[],"[object Array]"===Object.prototype.toString.apply(s)){for(o=s.length,t=0;t<o;t+=1)c[t]=b(t,s)||"null";return i=0===c.length?"[]":f?"[\n"+f+c.join(",\n"+f)+"\n"+u+"]":"["+c.join(",")+"]",f=u,i}if(m&&"object"==typeof m)for(o=m.length,t=0;t<o;t+=1)"string"==typeof(r=m[t])&&(i=b(r,s))&&c.push(d(r)+(f?": ":":")+i);else for(r in s)Object.hasOwnProperty.call(s,r)&&(i=b(r,s))&&c.push(d(r)+(f?": ":":")+i);return i=0===c.length?"{}":f?"{\n"+f+c.join(",\n"+f)+"\n"+u+"}":"{"+c.join(",")+"}",f=u,i}}window.JSON||(window.JSON={});var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,p,q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,n,t){var r;if(p=f="","number"==typeof t)for(r=0;r<t;r+=1)p+=" ";else"string"==typeof t&&(p=t);if((m=n)&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw Error("JSON.stringify");return b("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a){return eval("("+a+")")})}();var ca=1,fa=A,ga=[],ha="-pnpres",D=1e3,ia="/",ja="&",ka=/{([\w\-]+)}/g;function la(){return"x"+ ++ca+ +new Date}function G(){return+new Date}var ma,na=Math.floor(20*Math.random());function qa(e,n){var t=e.join(ia),r=[];return n?(N(n,function(e,n){var t="object"==typeof n?JSON.stringify(n):n;void 0!==n&&n!=z&&0<encodeURIComponent(t).length&&r.push(e+"="+encodeURIComponent(t))}),t+"?"+r.join(ja)):t}function ra(e,n){var t,r=0;return function a(){r+n>G()?(clearTimeout(t),t=setTimeout(a,n)):(r=G(),e())}}function sa(e,n){var t=[];return N(e||[],function(e){n(e)&&t.push(e)}),t}function ta(e,n){return e.replace(ka,function(e,t){return n[t]||e})}function pa(e){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)});return e&&e(n),n}function N(e,n){if(e&&n)if(e&&(Array.isArray&&Array.isArray(e)||"number"==typeof e.length))for(var t=0,r=e.length;t<r;)n.call(e[t],e[t],t++);else for(t in e)e.hasOwnProperty&&e.hasOwnProperty(t)&&n.call(e[t],t,e[t])}function ua(e,n){var t=[];return N(e||[],function(e,r){t.push(n(e,r))}),t}function va(e,n){var t=[];return N(e,function(e,r){n?0>e.search("-pnpres")&&r.f&&t.push(e):r.f&&t.push(e)}),t.sort()}function wa(){setTimeout(function(){fa||(fa=1,N(ga,function(e){e()}))},D)}ma=function(e,n){return 0<e.indexOf("pubsub.")&&e.replace("pubsub","ps"+(n?pa().split("-")[0]:20>++na?na:na=1))||e};var O,T=14,U=8,xa=A;function ya(e,n){var t,r,a="";if(n){if(16<(t=e[15]))throw"Decryption error: Maybe bad key";if(16==t)return"";for(r=0;r<16-t;r++)a+=String.fromCharCode(e[r])}else for(r=0;16>r;r++)a+=String.fromCharCode(e[r]);return a}function za(e,n){var t,r=[];if(!n)try{e=unescape(encodeURIComponent(e))}catch(e){throw"Error on UTF-8 encode"}for(t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}function Aa(e,n){var t,r=12<=T?3:2,a=[],i=[],o=(a=[],i=[],e.concat(n));for(a[0]=GibberishAES.l.m(o),i=a[0],t=1;t<r;t++)a[t]=GibberishAES.l.m(a[t-1].concat(o)),i=i.concat(a[t]);return{key:a=i.slice(0,4*U),i:i=i.slice(4*U,4*U+16)}}function Ba(e,n,t){n=Ca(n);var r,a=Math.ceil(e.length/16),i=[],o=[];for(r=0;r<a;r++){var c=i,u=r,s=e.slice(16*r,16*r+16),f=[],l=v;l=v;for(16>s.length&&(f=[l=16-s.length,l,l,l,l,l,l,l,l,l,l,l,l,l,l,l]),l=0;l<s.length;l++)f[l]=s[l];c[u]=f}for(0==e.length%16&&i.push([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),r=0;r<i.length;r++)i[r]=Da(i[r],0===r?t:o[r-1]),o[r]=Ea(i[r],n);return o}function Fa(e,n,t,r){n=Ca(n);var a,i=e.length/16,o=[],c=[],u="";for(a=0;a<i;a++)o.push(e.slice(16*a,16*(a+1)));for(a=o.length-1;0<=a;a--)c[a]=Ga(o[a],n),c[a]=Da(c[a],0===a?t:o[a-1]);for(a=0;a<i-1;a++)u+=ya(c[a]);var s;u+=ya(c[a],y);if(r)s=u;else try{s=decodeURIComponent(escape(u))}catch(e){throw"Bad Key"}return s}function Ea(e,n){xa=A;var t,r=La(e,n,0);for(t=1;t<T+1;t++)r=Na(r=Ma(r)),t<T&&(r=Oa(r)),r=La(r,n,t);return r}function Ga(e,n){xa=y;var t,r=La(e,n,T);for(t=T-1;-1<t;t--)r=La(r=Ma(r=Na(r)),n,t),0<t&&(r=Oa(r));return r}function Ma(e){var n,t=xa?Pa:Qa,r=[];for(n=0;16>n;n++)r[n]=t[e[n]];return r}function Na(e){var n,t=[],r=xa?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11];for(n=0;16>n;n++)t[n]=e[r[n]];return t}function Oa(e){var n,t=[];if(xa)for(n=0;4>n;n++)t[4*n]=Ta[e[4*n]]^Ua[e[1+4*n]]^Za[e[2+4*n]]^$a[e[3+4*n]],t[1+4*n]=$a[e[4*n]]^Ta[e[1+4*n]]^Ua[e[2+4*n]]^Za[e[3+4*n]],t[2+4*n]=Za[e[4*n]]^$a[e[1+4*n]]^Ta[e[2+4*n]]^Ua[e[3+4*n]],t[3+4*n]=Ua[e[4*n]]^Za[e[1+4*n]]^$a[e[2+4*n]]^Ta[e[3+4*n]];else for(n=0;4>n;n++)t[4*n]=ab[e[4*n]]^bb[e[1+4*n]]^e[2+4*n]^e[3+4*n],t[1+4*n]=e[4*n]^ab[e[1+4*n]]^bb[e[2+4*n]]^e[3+4*n],t[2+4*n]=e[4*n]^e[1+4*n]^ab[e[2+4*n]]^bb[e[3+4*n]],t[3+4*n]=bb[e[4*n]]^e[1+4*n]^e[2+4*n]^ab[e[3+4*n]];return t}function La(e,n,t){var r,a=[];for(r=0;16>r;r++)a[r]=e[r]^n[t][r];return a}function Da(e,n){var t,r=[];for(t=0;16>t;t++)r[t]=e[t]^n[t];return r}function Ca(e){var n,t,r=[],a=[],i=[];for(n=0;n<U;n++)t=[e[4*n],e[4*n+1],e[4*n+2],e[4*n+3]],r[n]=t;for(n=U;n<4*(T+1);n++){for(r[n]=[],e=0;4>e;e++)a[e]=r[n-1][e];if(0==n%U){for(e=a[0],t=v,t=0;4>t;t++)a[t]=a[t+1];a[3]=e,(a=cb(a))[0]^=db[n/U-1]}else 6<U&&4==n%U&&(a=cb(a));for(e=0;4>e;e++)r[n][e]=r[n-U][e]^a[e]}for(n=0;n<T+1;n++)for(i[n]=[],a=0;4>a;a++)i[n].push(r[4*n+a][0],r[4*n+a][1],r[4*n+a][2],r[4*n+a][3]);return i}function cb(e){for(var n=0;4>n;n++)e[n]=Qa[e[n]];return e}function eb(e,n){var t=[];for(i=0;i<e.length;i+=n)t[i/n]=parseInt(e.substr(i,n),16);return t}function fb(e){for(var n=[],t=0;256>t;t++){var r=e,a=t,i=v,o=v;for(i=o=0;8>i;i++)o=1==(1&a)?o^r:o,r=127<r?283^r<<1:r<<1,a>>>=1;n[t]=o}return n}var Qa=eb("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",2),Pa,gb=Qa,hb=[];for(i=0;i<gb.length;i++)hb[gb[i]]=i;Pa=hb;var db=eb("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),ab=fb(2),bb=fb(3),$a=fb(9),Ua=fb(11),Za=fb(13),Ta=fb(14),ib,jb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kb=jb.split("");if("function"==typeof Array.indexOf&&(jb=kb),ib={encode:function(e){var n,t=[],r="";for(n=0;n<16*e.length;n++)t.push(e[Math.floor(n/16)][n%16]);for(n=0;n<t.length;n+=3)r+=kb[t[n]>>2],r+=kb[(3&t[n])<<4|t[n+1]>>4],r=t[n+1]!==v?r+kb[(15&t[n+1])<<2|t[n+2]>>6]:r+"=",r=t[n+2]!==v?r+kb[63&t[n+2]]:r+"=";for(e=r.slice(0,64),n=1;n<Math.ceil(r.length/64);n++)e+=r.slice(64*n,64*n+64)+(Math.ceil(r.length/64)==n+1?"":"\n");return e},decode:function(e){e=e.replace(/\n/g,"");var n,t=[],r=[],a=[];for(n=0;n<e.length;n+=4)r[0]=jb.indexOf(e.charAt(n)),r[1]=jb.indexOf(e.charAt(n+1)),r[2]=jb.indexOf(e.charAt(n+2)),r[3]=jb.indexOf(e.charAt(n+3)),a[0]=r[0]<<2|r[1]>>4,a[1]=(15&r[1])<<4|r[2]>>2,a[2]=(3&r[2])<<6|r[3],t.push(a[0],a[1],a[2]);return t.slice(0,t.length-t.length%16)}},O={size:function(e){switch(e){case 128:T=10,U=4;break;case 192:T=12,U=6;break;case 256:T=14,U=8;break;default:throw"Invalid Key Size Specified:"+e}},h2a:function(e){var n=[];return e.replace(/(..)/g,function(e){n.push(parseInt(e,16))}),n},expandKey:Ca,encryptBlock:Ea,decryptBlock:Ga,Decrypt:xa,s2a:za,rawEncrypt:Ba,rawDecrypt:Fa,dec:function(e,n,t){var r=(e=ib.q(e)).slice(8,16);n=(r=Aa(za(n,t),r)).key,r=r.i;return Fa(e=e.slice(16,e.length),n,r,t)},openSSLKey:Aa,a2h:function(e){var n,t="";for(n=0;n<e.length;n++)t+=(16>e[n]?"0":"")+e[n].toString(16);return t},enc:function(e,n,t){var r,a;for(r=[],a=0;8>a;a++)r=r.concat(Math.floor(256*Math.random()));return n=(a=Aa(za(n,t),r)).key,a=a.i,r=[[83,97,108,116,101,100,95,95].concat(r)],e=Ba(e=za(e,t),n,a),e=r.concat(e),ib.s(e)},Hash:{MD5:function(e){function n(e,n){var t,r,a,i,o;return a=2147483648&e,i=2147483648&n,o=(1073741823&e)+(1073741823&n),(t=1073741824&e)&(r=1073741824&n)?2147483648^o^a^i:t|r?1073741824&o?3221225472^o^a^i:1073741824^o^a^i:o^a^i}function t(e,t,r,a,i,o,c){return n((e=n(e,n(n(t&r|~t&a,i),c)))<<o|e>>>32-o,t)}function r(e,t,r,a,i,o,c){return n((e=n(e,n(n(t&a|r&~a,i),c)))<<o|e>>>32-o,t)}function a(e,t,r,a,i,o,c){return n((e=n(e,n(n(t^r^a,i),c)))<<o|e>>>32-o,t)}function i(e,t,r,a,i,o,c){return n((e=n(e,n(n(r^(t|~a),i),c)))<<o|e>>>32-o,t)}function o(e){var n,t,r=[];for(t=0;3>=t;t++)n=e>>>8*t&255,r=r.concat(n);return r}var c,u,s,f,l,b,d,h,p=[],g=eb("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",8);for(u=16*(((c=(p=e.length)+8)-c%64)/64+1),s=[],l=f=0;l<p;)f=l%4*8,s[c=(l-l%4)/4]|=e[l]<<f,l++;for(s[c=(l-l%4)/4]|=128<<l%4*8,s[u-2]=p<<3,s[u-1]=p>>>29,p=s,l=g[0],b=g[1],d=g[2],h=g[3],e=0;e<p.length;e+=16)c=l,u=b,s=d,f=h,b=i(b=i(b=i(b=i(b=a(b=a(b=a(b=a(b=r(b=r(b=r(b=r(b=t(b=t(b=t(b=t(b,d=t(d,h=t(h,l=t(l,b,d,h,p[e+0],7,g[4]),b,d,p[e+1],12,g[5]),l,b,p[e+2],17,g[6]),h,l,p[e+3],22,g[7]),d=t(d,h=t(h,l=t(l,b,d,h,p[e+4],7,g[8]),b,d,p[e+5],12,g[9]),l,b,p[e+6],17,g[10]),h,l,p[e+7],22,g[11]),d=t(d,h=t(h,l=t(l,b,d,h,p[e+8],7,g[12]),b,d,p[e+9],12,g[13]),l,b,p[e+10],17,g[14]),h,l,p[e+11],22,g[15]),d=t(d,h=t(h,l=t(l,b,d,h,p[e+12],7,g[16]),b,d,p[e+13],12,g[17]),l,b,p[e+14],17,g[18]),h,l,p[e+15],22,g[19]),d=r(d,h=r(h,l=r(l,b,d,h,p[e+1],5,g[20]),b,d,p[e+6],9,g[21]),l,b,p[e+11],14,g[22]),h,l,p[e+0],20,g[23]),d=r(d,h=r(h,l=r(l,b,d,h,p[e+5],5,g[24]),b,d,p[e+10],9,g[25]),l,b,p[e+15],14,g[26]),h,l,p[e+4],20,g[27]),d=r(d,h=r(h,l=r(l,b,d,h,p[e+9],5,g[28]),b,d,p[e+14],9,g[29]),l,b,p[e+3],14,g[30]),h,l,p[e+8],20,g[31]),d=r(d,h=r(h,l=r(l,b,d,h,p[e+13],5,g[32]),b,d,p[e+2],9,g[33]),l,b,p[e+7],14,g[34]),h,l,p[e+12],20,g[35]),d=a(d,h=a(h,l=a(l,b,d,h,p[e+5],4,g[36]),b,d,p[e+8],11,g[37]),l,b,p[e+11],16,g[38]),h,l,p[e+14],23,g[39]),d=a(d,h=a(h,l=a(l,b,d,h,p[e+1],4,g[40]),b,d,p[e+4],11,g[41]),l,b,p[e+7],16,g[42]),h,l,p[e+10],23,g[43]),d=a(d,h=a(h,l=a(l,b,d,h,p[e+13],4,g[44]),b,d,p[e+0],11,g[45]),l,b,p[e+3],16,g[46]),h,l,p[e+6],23,g[47]),d=a(d,h=a(h,l=a(l,b,d,h,p[e+9],4,g[48]),b,d,p[e+12],11,g[49]),l,b,p[e+15],16,g[50]),h,l,p[e+2],23,g[51]),d=i(d,h=i(h,l=i(l,b,d,h,p[e+0],6,g[52]),b,d,p[e+7],10,g[53]),l,b,p[e+14],15,g[54]),h,l,p[e+5],21,g[55]),d=i(d,h=i(h,l=i(l,b,d,h,p[e+12],6,g[56]),b,d,p[e+3],10,g[57]),l,b,p[e+10],15,g[58]),h,l,p[e+1],21,g[59]),d=i(d,h=i(h,l=i(l,b,d,h,p[e+8],6,g[60]),b,d,p[e+15],10,g[61]),l,b,p[e+6],15,g[62]),h,l,p[e+13],21,g[63]),d=i(d,h=i(h,l=i(l,b,d,h,p[e+4],6,g[64]),b,d,p[e+11],10,g[65]),l,b,p[e+2],15,g[66]),h,l,p[e+9],21,g[67]),l=n(l,c),b=n(b,u),d=n(d,s),h=n(h,f);return o(l).concat(o(b),o(d),o(h))}},Base64:ib},!window.PUBNUB){var lb=function(e,n){return CryptoJS.HmacSHA256(e,n).toString(CryptoJS.enc.Base64)},mb=function(e){return document.getElementById(e)},nb=function(e){console.error(e)},pb=function(e,n){var t=[];return N(e.split(/\s+/),function(e){N((n||document).getElementsByTagName(e),function(e){t.push(e)})}),t},qb=function(e,n,t){N(e.split(","),function(e){function r(e){e||(e=window.event),t(e)||(e.cancelBubble=y,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}n.addEventListener?n.addEventListener(e,r,A):n.attachEvent?n.attachEvent("on"+e,r):n["on"+e]=r})},rb=function(){return pb("head")[0]},V=function(e,n,t){if(!t)return e&&e.getAttribute&&e.getAttribute(n);e.setAttribute(n,t)},sb=function(e,n){for(var t in n)if(n.hasOwnProperty(t))try{e.style[t]=n[t]+(0<"|width|height|top|left|".indexOf(t)&&"number"==typeof n[t]?"px":"")}catch(e){}},tb=function(e){return document.createElement(e)},zb=function(){return ub||$()?0:la()},Ab=function(e){function n(e,n){y||(y=1,p.onerror=z,clearTimeout(v),e||!n||_(n),setTimeout(function(){e&&m();var n=mb(g),t=n&&n.parentNode;t&&t.removeChild(n)},D))}if(ub||$()){e:{var t,r,a=function(){if(!o){o=1,clearTimeout(u);try{r=JSON.parse(t.responseText)}catch(e){return d(1)}i=1,l(r)}},i=0,o=0,c=e.timeout||1e4,u=setTimeout(function(){d(1,{message:"timeout"})},c),s=e.b||C(),f=e.data||{},l=e.c||C(),b=!e.h,d=function(e,n){i||(i=1,clearTimeout(u),t&&(t.onerror=t.onload=z,t.abort&&t.abort(),t=z),e&&s(n))};try{(t=$()||window.XDomainRequest&&new XDomainRequest||new XMLHttpRequest).onerror=t.onabort=function(){d(1,t.responseText||{error:"Network Connection Error"})},t.onload=t.onloadend=a,t.onreadystatechange=function(){if(t&&4==t.readyState)switch(t.status){case 401:case 402:case 403:try{r=JSON.parse(t.responseText),d(1,r)}catch(e){return d(1,t.responseText)}}};var h=qa(e.url,f);t.open("GET",h,b),b&&(t.timeout=c),t.send()}catch(n){d(0),ub=0,e=Ab(e);break e}e=d}return e}var p=tb("script"),g=(a=e.a,la()),y=0,v=setTimeout(function(){n(1,{message:"timeout"})},e.timeout||1e4),m=e.b||C(),_=(c=e.data||{},e.c||C());return window[a]=function(e){n(0,e)},e.h||(p[Bb]=Bb),p.onerror=function(){n(1)},p.src=qa(e.url,c),V(p,"id",g),rb().appendChild(p),n},Cb=function(){return"onLine"in navigator?navigator.onLine:1},$=function(){if(!Db||!Db.get)return 0;var e={id:$.id++,send:C(),abort:function(){e.id={}},open:function(n,t){$[e.id]=e,Db.get(e.id,t)}};return e},Bb="async",ub=-1==navigator.userAgent.indexOf("MSIE 6");window.console||(window.console=window.console||{}),console.log||(console.log=console.error=(window.opera||{}).postError||C());var Eb,Fb=window.localStorage;Eb={get:function(e){try{return Fb?Fb.getItem(e):-1==document.cookie.indexOf(e)?z:((document.cookie||"").match(RegExp(e+"=([^;]+)"))||[])[1]||z}catch(e){}},set:function(e,n){try{if(Fb)return Fb.setItem(e,n)&&0;document.cookie=e+"="+n+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(e){}}};var Gb={list:{},unbind:function(e){Gb.list[e]=[]},bind:function(e,n){(Gb.list[e]=Gb.list[e]||[]).push(n)},fire:function(e,n){N(Gb.list[e]||[],function(e){e(n)})}},Ib=mb("pubnub")||0,Jb=function(e){function t(){}function r(e,n){function t(n){n&&(K=G()-(n/1e4+(G()-r)/2),e&&e(K))}var r=G();n&&t(n)||he.time(t)}function a(e,n){q&&q(e,n),q=z}function i(e,n){"object"==typeof e&&e.error&&e.message&&e.payload?n({message:e.message,payload:e.payload}):n(e)}function o(e,n,t){if("object"==typeof e){if(e.error&&e.message&&e.payload)return void t({message:e.message,payload:e.payload});if(e.payload)return void n(e.payload)}n(e)}function c(e){var n=0;return N(va(W),function(t){(t=W[t])&&(n++,(e||C())(t))}),n}function u(e){if(re){if(!R.length)return}else{if(e&&(R.j=0),R.j||!R.length)return;R.j=1}ie(R.shift())}function s(){!te&&f()}function f(){clearTimeout(Y),!ne||500<=ne||1>ne||!va(W,y).length?te=A:(te=y,he.presence_heartbeat({callback:function(){Y=setTimeout(f,ne*D)},error:function(e){ce&&ce("Presence Heartbeat unable to reach Pubnub servers."+JSON.stringify(e)),Y=setTimeout(f,ne*D)}}))}function l(e,n){return de.decrypt(e,n||le)||de.decrypt(e,le)||e}function b(e,n,t){var r=A;if("number"==typeof e)r=5<e||0==e?A:y;else{if("boolean"==typeof e)return e?30:0;r=y}return r?(t&&t("Presence Heartbeat value invalid. Valid range ( x > 5 or x = 0). Current Value : "+(n||5)),n||5):e}function d(e){var n="",t=[];N(e,function(e){t.push(e)});var r,a=t.sort();for(r in a){var i=a[r];n=n+(i+"=")+encodeURIComponent(e[i]);r!=a.length-1&&(n+="&")}return n}function h(e){return e||(e={}),N(oe,function(n,t){n in e||(e[n]=t)}),e}function p(e){return Jb(e)}function g(e){function n(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function t(e,n){return e>>>n|e<<32-n}var r;r=e.replace(/\r\n/g,"\n");e="";for(var a=0;a<r.length;a++){128>(y=r.charCodeAt(a))?e+=String.fromCharCode(y):(127<y&&2048>y?e+=String.fromCharCode(y>>6|192):(e+=String.fromCharCode(y>>12|224),e+=String.fromCharCode(y>>6&63|128)),e+=String.fromCharCode(63&y|128))}for(a=e,r=[],y=0;y<8*a.length;y+=8)r[y>>5]|=(255&a.charCodeAt(y/8))<<24-y%32;var i,o,c,u,s,f,l,b,d,h,p,g=8*e.length,y=(a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Array(64));for(r[g>>5]|=128<<24-g%32,r[15+(g+64>>9<<4)]=g,b=0;b<r.length;b+=16){for(g=e[0],i=e[1],o=e[2],c=e[3],u=e[4],s=e[5],f=e[6],l=e[7],d=0;64>d;d++)y[d]=16>d?r[d+b]:n(n(n(t(y[d-2],17)^t(y[d-2],19)^y[d-2]>>>10,y[d-7]),t(y[d-15],7)^t(y[d-15],18)^y[d-15]>>>3),y[d-16]),h=n(n(n(n(l,t(u,6)^t(u,11)^t(u,25)),u&s^~u&f),a[d]),y[d]),p=n(t(g,2)^t(g,13)^t(g,22),g&i^g&o^i&o),l=f,f=s,s=u,u=n(c,h),c=o,o=i,i=g,g=n(h,p);e[0]=n(g,e[0]),e[1]=n(i,e[1]),e[2]=n(o,e[2]),e[3]=n(c,e[3]),e[4]=n(u,e[4]),e[5]=n(s,e[5]),e[6]=n(f,e[6]),e[7]=n(l,e[7])}for(r="",a=0;a<4*e.length;a++)r+="0123456789abcdef".charAt(e[a>>2]>>8*(3-a%4)+4&15)+"0123456789abcdef".charAt(e[a>>2]>>8*(3-a%4)&15);return r}e.jsonp&&(ub=0);var v=e.subscribe_key||"";e.uuid||Eb.get(v+"uuid");var m=e.leave_on_unload||0;e.xdr=Ab,e.db=Eb,e.error=e.error||nb,e._is_online=Cb,e.jsonp_cb=zb,e.hmac_SHA256=lb,O.size(256);var _=O.s2a("0123456789012345");e.crypto_obj={encrypt:function(e,n){if(!n)return e;var t=O.s2a(g(n).slice(0,32)),r=O.s2a(JSON.stringify(e));t=O.rawEncrypt(r,t,_);return O.Base64.encode(t)||e},decrypt:function(e,n){if(!n)return e;var t=O.s2a(g(n).slice(0,32));try{var r=O.Base64.decode(e),a=O.rawDecrypt(r,t,_,A);return JSON.parse(a)}catch(e){}}},e.params={pnsdk:"PubNub-JS-Web/3.6.7"};var w=+e.windowing||10,S=(+e.timeout||310)*D,x=(+e.keepalive||60)*D,M=e.noleave||0,T=e.publish_key||"demo",U=e.subscribe_key||"demo",B=e.auth_key||"",j=e.secret_key||"",E=e.hmac_SHA256,P=e.ssl?"s":"",I="http"+P+"://"+(e.origin||"pubsub.pubnub.com"),L=ma(I),J=ma(I),R=[],K=0,H=0,$=0,q=0,F=e.restore||0,Z=0,Q=A,W={},X={},Y=z,ee=b(e.heartbeat||e.pnexpires||0,e.error),ne=e.heartbeat_interval||ee-3,te=A,re=e.no_wait_for_pending,ae=e["compatible_3.5"]||A,ie=e.xdr,oe=e.params||{},ce=e.error||C(),ue=e._is_online||function(){return 1},se=e.jsonp_cb||function(){return 0},fe=e.db||{get:C(),set:C()},le=e.cipher_key,be=e.uuid||fe&&fe.get(U+"uuid")||"",de=e.crypto_obj||{encrypt:function(e){return e},decrypt:function(e){return e}},he={LEAVE:function(e,n,t,r){var a={uuid:be,auth:B},c=ma(I),u=(t=t||C(),r||C());r=se();return 0<e.indexOf(ha)?y:ae&&(!P||"0"==r)||M?A:("0"!=r&&(a.callback=r),ie({h:n||P,timeout:2e3,a:r,data:h(a),c:function(e){o(e,t,u)},b:function(e){i(e,u)},url:[c,"v2","presence","sub_key",U,"channel",encodeURIComponent(e),"leave"]}),y)},set_resumed:function(e){Q=e},get_cipher_key:function(){return le},set_cipher_key:function(e){le=e},raw_encrypt:function(e,n){return de.encrypt(e,n||le)||e},raw_decrypt:function(e,n){return l(e,n)},get_heartbeat:function(){return ee},set_heartbeat:function(e){ee=b(e,ne,ce),ne=1<=ee-3?ee-3:1,t(),f()},get_heartbeat_interval:function(){return ne},set_heartbeat_interval:function(e){ne=e,f()},get_version:function(){return"3.6.7"},getGcmMessageObject:function(e){return{data:e}},getApnsMessageObject:function(e){var n={aps:{badge:1,alert:""}};for(k in e)k[n]=e[k];return n},newPnMessage:function(){var e={};for(k in gcm&&(e.pn_gcm=gcm),apns&&(e.pn_apns=apns),n)e[k]=n[k];return e},_add_param:function(e,n){oe[e]=n},history:function(e,n){n=e.callback||n;var t=e.count||e.limit||100,r=e.reverse||"false",a=e.error||C(),o=e.auth_key||B,c=e.cipher_key,u=e.channel,s=e.start,f=e.end,b=e.include_token,d={},p=se();return u?n?U?(d.stringtoken="true",d.count=t,d.reverse=r,d.auth=o,p&&(d.callback=p),s&&(d.start=s),f&&(d.end=f),b&&(d.include_token="true"),void ie({a:p,data:h(d),c:function(e){if("object"==typeof e&&e.error)a({message:e.message,payload:e.payload});else{for(var t=e[0],r=[],i=0;i<t.length;i++){var o=l(t[i],c);try{r.push(JSON.parse(o))}catch(e){r.push(o)}}n([r,e[1],e[2]])}},b:function(e){i(e,a)},url:[L,"v2","history","sub-key",U,"channel",encodeURIComponent(u)]})):ce("Missing Subscribe Key"):ce("Missing Callback"):ce("Missing Channel")},replay:function(e,n){n=n||e.callback||C();var t=e.auth_key||B,r=e.source,a=e.destination,i=e.stop,c=e.start,u=e.end,s=e.reverse,f=e.limit,l=se(),b={};return r?a?T?U?("0"!=l&&(b.callback=l),i&&(b.stop="all"),s&&(b.reverse="true"),c&&(b.start=c),u&&(b.end=u),f&&(b.count=f),b.auth=t,void ie({a:l,c:function(e){o(e,n,err)},b:function(){n([0,"Disconnected"])},url:[L,"v1","replay",T,U,r,a],data:h(b)})):ce("Missing Subscribe Key"):ce("Missing Publish Key"):ce("Missing Destination Channel"):ce("Missing Source Channel")},auth:function(e){B=e,t()},time:function(e){var n=se();ie({a:n,data:h({uuid:be,auth:B}),timeout:5*D,url:[L,"time",n],c:function(n){e(n[0])},b:function(){e(0)}})},publish:function(e,n){var t=e.message;if(!t)return ce("Missing Message");n=n||e.callback||t.callback||C();var r=e.channel||t.channel,a=e.auth_key||B,c=e.cipher_key,s=e.error||t.error||C(),f=e.post||A,l="store_in_history"in e?e.store_in_history:y,b=se(),d="push";return e.prepend&&(d="unshift"),r?T?U?(t.getPubnubMessage&&(t=t.getPubnubMessage()),t=JSON.stringify(de.encrypt(t,c||le)||t),t=[L,"publish",T,U,0,encodeURIComponent(r),b,encodeURIComponent(t)],oe={uuid:be,auth:a},l||(oe.store="0"),R[d]({a:b,timeout:5*D,url:t,data:h(oe),b:function(e){i(e,s),u(1)},c:function(e){o(e,n,s),u(1)},mode:f?"POST":"GET"}),void u()):ce("Missing Subscribe Key"):ce("Missing Publish Key"):ce("Missing Channel")},unsubscribe:function(e,n){var r=e.channel,a=(n=n||e.callback||C(),e.error||C());Z=0,N((r=ua((r.join?r.join(","):""+r).split(","),function(e){if(W[e])return e+","+e+ha}).join(",")).split(","),function(e){var t=y;e&&(fa&&(t=he.LEAVE(e,0,n,a)),t||n({action:"leave"}),W[e]=0,e in X&&delete X[e])}),t()},subscribe:function(e,n){function r(e){e?setTimeout(t,D):(L=ma(I,1),J=ma(I,1),setTimeout(function(){he.time(r)},D)),c(function(n){if(e&&n.d)return n.d=0,n.p(n.name);!e&&!n.d&&(n.d=1,n.o(n.name))})}function o(){var e=se(),n=va(W).join(",");if(n){a();var u=h({uuid:be,auth:f});2<JSON.stringify(X).length&&(u.state=JSON.stringify(X)),ee&&(u.heartbeat=ee),s(),q=ie({timeout:O,a:e,b:function(e){i(e,g),he.time(r)},data:h(u),url:[J,"subscribe",U,encodeURIComponent(n),e,Z],c:function(e){if(!e||"object"==typeof e&&"error"in e&&e.error)return g(e.error),setTimeout(t,D);if(y(e[1]),Z=!Z&&F&&fe.get(U)||e[1],c(function(e){e.g||(e.g=1,e.n(e.name))}),Q&&!F)Z=0,Q=A,fe.set(U,0);else{_&&(Z=1e4,_=0),fe.set(U,e[1]);var n,r=(2<e.length?e[2]:ua(va(W),function(n){return ua(Array(e[0].length).join(",").split(","),function(){return n})}).join(",")).split(",");n=function(){var e=r.shift()||$;return[(W[e]||{}).a||H,e.split(ha)[0]]};var a=G()-K-+e[1]/1e4;N(e[0],function(t){var r=n();t=l(t,W[r[1]]?W[r[1]].cipher_key:z);r[0](t,e,r[1],a)})}setTimeout(o,x)}})}}var u=e.channel,f=(n=(n=n||e.callback)||e.message,e.auth_key||B),b=e.connect||C(),d=e.reconnect||C(),p=e.disconnect||C(),g=e.error||C(),y=e.idle||C(),v=e.presence||0,m=e.noheresync||0,_=e.backfill||0,k=e.timetoken||0,O=e.timeout||S,x=e.windowing||w,M=e.state,T=e.heartbeat||e.pnexpires,j=e.restore||F;return F=j,Z=k,u?n?U?((T||0===T)&&he.set_heartbeat(T),N((u.join?u.join(","):""+u).split(","),function(t){var r=W[t]||{};W[$=t]={name:t,g:r.g,d:r.d,f:1,a:H=n,cipher_key:e.cipher_key,n:b,o:p,p:d},M&&(X[t]=t in M?M[t]:M),v&&(he.subscribe({channel:t+ha,callback:v,restore:j}),!r.f&&!m&&he.here_now({channel:t,callback:function(e){N("uuids"in e?e.uuids:[],function(n){v({action:"join",uuid:n,timestamp:Math.floor(G()/1e3),occupancy:e.occupancy||1},e,t)})}}))}),t=function(){a(),setTimeout(o,x)},fa?void t():ga.push(t)):ce("Missing Subscribe Key"):ce("Missing Callback"):ce("Missing Channel")},here_now:function(e,n){n=e.callback||n;var t=e.error||C(),r=e.auth_key||B,a=e.channel,c=se(),u=e.state;r={uuid:be,auth:r};return"uuids"in e&&!e.uuids&&(r.disable_uuids=1),u&&(r.state=1),n?U?(u=[L,"v2","presence","sub_key",U],a&&u.push("channel")&&u.push(encodeURIComponent(a)),"0"!=c&&(r.callback=c),void ie({a:c,data:h(r),c:function(e){o(e,n,t)},b:function(e){i(e,t)},url:u})):ce("Missing Subscribe Key"):ce("Missing Callback")},where_now:function(e,n){n=e.callback||n;var t=e.error||C(),r=e.auth_key||B,a=se(),c=e.uuid||be;r={auth:r};return n?U?("0"!=a&&(r.callback=a),void ie({a:a,data:h(r),c:function(e){o(e,n,t)},b:function(e){i(e,t)},url:[L,"v2","presence","sub_key",U,"uuid",encodeURIComponent(c)]})):ce("Missing Subscribe Key"):ce("Missing Callback")},state:function(e,n){n=e.callback||n||C();var t=e.error||C(),r=e.auth_key||B,a=se(),c=e.state,u=e.uuid||be,s=e.channel;r=h({auth:r});return U?u?s?("0"!=a&&(r.callback=a),W[s]&&W[s].f&&c&&(X[s]=c),r.state=JSON.stringify(c),c=c?[L,"v2","presence","sub-key",U,"channel",encodeURIComponent(s),"uuid",u,"data"]:[L,"v2","presence","sub-key",U,"channel",encodeURIComponent(s),"uuid",encodeURIComponent(u)],void ie({a:a,data:h(r),c:function(e){o(e,n,t)},b:function(e){i(e,t)},url:c})):ce("Missing Channel"):ce("Missing UUID"):ce("Missing Subscribe Key")},grant:function(e,n){n=e.callback||n;var t=e.error||C(),r=e.channel,a=se(),c=e.ttl,u=e.read?"1":"0",s=e.write?"1":"0",f=e.auth_key;if(!n)return ce("Missing Callback");if(!U)return ce("Missing Subscribe Key");if(!T)return ce("Missing Publish Key");if(!j)return ce("Missing Secret Key");var l=U+"\n"+T+"\ngrant\n";u={w:s,r:u,timestamp:Math.floor((new Date).getTime()/1e3)};"undefined"!=r&&r!=z&&0<r.length&&(u.channel=r),"0"!=a&&(u.callback=a),(c||0===c)&&(u.ttl=c),f&&(u.auth=f),u=h(u),f||delete u.auth,l+=d(u),r=(r=(r=E(l,j)).replace(/\+/g,"-")).replace(/\//g,"_"),u.signature=r,ie({a:a,data:u,c:function(e){o(e,n,t)},b:function(e){i(e,t)},url:[L,"v1","auth","grant","sub-key",U]})},audit:function(e,n){n=e.callback||n;var t=e.error||C(),r=e.channel,a=e.auth_key,c=se();if(!n)return ce("Missing Callback");if(!U)return ce("Missing Subscribe Key");if(!T)return ce("Missing Publish Key");if(!j)return ce("Missing Secret Key");var u=U+"\n"+T+"\naudit\n",s={timestamp:Math.floor((new Date).getTime()/1e3)};"0"!=c&&(s.callback=c),"undefined"!=r&&r!=z&&0<r.length&&(s.channel=r),a&&(s.auth=a),s=h(s),a||delete s.auth,u+=d(s),r=(r=(r=E(u,j)).replace(/\+/g,"-")).replace(/\//g,"_"),s.signature=r,ie({a:c,data:s,c:function(e){o(e,n,t)},b:function(e){i(e,t)},url:[L,"v1","auth","audit","sub-key",U]})},revoke:function(e,n){e.read=A,e.write=A,he.grant(e,n)},set_uuid:function(e){be=e,t()},get_uuid:function(){return be},presence_heartbeat:function(e){var n=e.callback||C(),t=e.error||C(),r=(e=se(),{uuid:be,auth:B});2<JSON.stringify(X).length&&(r.state=JSON.stringify(X)),0<ee&&320>ee&&(r.heartbeat=ee),"0"!=e&&(r.callback=e);var a=ie,c=(r=h(r),5*D),u=L,s=U,f=va(W,y).join(",");a({a:e,data:r,timeout:c,url:[u,"v2","presence","sub-key",s,"channel",encodeURIComponent(f),"heartbeat"],c:function(e){o(e,n,t)},b:function(e){i(e,t)}})},xdr:ie,ready:wa,db:fe,uuid:pa,map:ua,each:N,"each-channel":c,grep:sa,offline:function(){a(1,{message:"Offline. Please check your network settings."})},supplant:ta,now:G,unique:la,updater:ra};be||(be=he.uuid()),fe.set(U+"uuid",be),setTimeout(function e(){ue()||a(1,{error:"Offline. Please check your network settings. "}),setTimeout(e,D)},D),setTimeout(function e(){he.time(function(n){r(C(),n),n||a(1,{error:"Heartbeat failed to connect to Pubnub Servers.Please check your network settings."}),setTimeout(e,x)})},x),Y=setTimeout(s,(ne-3)*D),r();var pe;v=he;for(pe in v)v.hasOwnProperty(pe)&&(p[pe]=v[pe]);return p.css=sb,p.$=mb,p.create=tb,p.bind=qb,p.head=rb,p.search=pb,p.attr=V,p.events=Gb,p.init=p,p.secure=p,qb("beforeunload",window,function(){return m&&p["each-channel"](function(e){p.LEAVE(e.name,0)}),y}),e.notest?p:(qb("offline",window,p.offline),qb("offline",document,p.offline),p)};Jb.init=Jb,Jb.secure=Jb,"complete"===document.readyState?setTimeout(wa,0):qb("load",window,function(){setTimeout(wa,0)});var Kb=Ib||{};PUBNUB=Jb({notest:1,publish_key:V(Kb,"pub-key"),subscribe_key:V(Kb,"sub-key"),ssl:!document.location.href.indexOf("https")||"on"==V(Kb,"ssl"),origin:V(Kb,"origin"),uuid:V(Kb,"uuid")}),window.jQuery&&(window.jQuery.PUBNUB=Jb),"undefined"!=typeof module&&(module.exports=PUBNUB)&&wa();var Db=mb("pubnubs")||0;Ib&&(sb(Ib,{position:"absolute",top:-D}),("opera"in window||V(Ib,"flash"))&&(Ib.innerHTML="<object id=pubnubs data=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=movie value=https://pubnub.a.ssl.fastly.net/pubnub.swf><param name=allowscriptaccess value=always></object>"),PUBNUB.rdx=function(e,n){if(!n)return $[e].onerror();$[e].responseText=unescape(n),$[e].onload()},$.id=D)}var Mb=PUBNUB.ws=function(e,n){if(!(this instanceof Mb))return new Mb(e,n);var t=this;e=t.url=e||"";t.protocol=n||"Sec-WebSocket-Protocol";var r={ssl:"wss:"===(r=e.split("/"))[0],origin:r[2],publish_key:r[3],subscribe_key:r[4],channel:r[5]};if(t.CONNECTING=0,t.OPEN=1,t.CLOSING=2,t.CLOSED=3,t.CLOSE_NORMAL=1e3,t.CLOSE_GOING_AWAY=1001,t.CLOSE_PROTOCOL_ERROR=1002,t.CLOSE_UNSUPPORTED=1003,t.CLOSE_TOO_LARGE=1004,t.CLOSE_NO_STATUS=1005,t.CLOSE_ABNORMAL=1006,t.onclose=t.onerror=t.onmessage=t.onopen=t.onsend=C(),t.binaryType="",t.extensions="",t.bufferedAmount=0,t.trasnmitting=A,t.buffer=[],t.readyState=t.CONNECTING,!e)return t.readyState=t.CLOSED,t.onclose({code:t.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:y}),t;t.e=PUBNUB.init(r),t.e.k=r,t.k=r,t.e.subscribe({restore:A,channel:r.channel,disconnect:t.onerror,reconnect:t.onopen,error:function(){t.onclose({code:t.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:A})},callback:function(e){t.onmessage({data:e})},connect:function(){t.readyState=t.OPEN,t.onopen()}})};Mb.prototype.send=function(e){var n=this;n.e.publish({channel:n.e.k.channel,message:e,callback:function(e){n.onsend({data:e})}})}}();